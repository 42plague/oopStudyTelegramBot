import logging
import random

from telegram import (ReplyKeyboardMarkup, ReplyKeyboardRemove)
from telegram.ext import (CommandHandler, Filters,
                          MessageHandler, Updater)

import config

# ÐœÐ°ÑÑÐ¸Ð² Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð±Ñ€Ð¾ÑÐºÐ° ÐºÑƒÐ±Ð¸ÐºÐ°
DICE = ['1ï¸âƒ£', '2ï¸âƒ£', '3ï¸âƒ£', '4ï¸âƒ£', '5ï¸âƒ£', '6ï¸âƒ£']

# ÐœÐ°ÑÑÐ¸Ð² Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ð¹
PREDICTIONS = [
    "ðŸ”®Ð¢Ñ‹ Ð²ÑÐµÐ³Ð´Ð° Ð²Ð¸Ñ‚Ð°ÐµÑˆÑŒ Ð² Ð¾Ð±Ð»Ð°ÐºÐ°Ñ….",
    "ðŸ”®ÐÐµ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸ Ñ‚Ð°Ðº, Ñƒ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ‚Ð¾Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹.",
    "ðŸ”®ÐÐ¸ÐºÑ‚Ð¾ Ð½Ðµ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑ‚, Ñ ÐºÐ°ÐºÐ¸Ð¼Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ð¼Ð¸ Ñ‚Ñ‹ ÑÑ‚Ð¾Ð»ÐºÐ½ÑƒÐ»ÑÑ.",
    "ðŸ”®Ð”ÑŒÑÐ²Ð¾Ð» ÑÐºÑ€Ñ‹Ñ‚ÐµÐ½.",
    "ðŸ”®Ð’Ð¸ÑÐµÐ»ÑŒÐ½Ð¸Ðº Ð½Ðµ Ð¿Ñ€Ð¸Ð½ÐµÑÑ‘Ñ‚ Ñ‚ÐµÐ±Ðµ ÑƒÐ´Ð°Ñ‡Ð¸ ÑÐµÐ³Ð¾Ð´Ð½Ñ.",
    "ðŸ”®Ð¢Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸, ÑÑ‚Ð¾ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾.",
    "ðŸ”®Ð¢Ð²Ð¾Ñ Ð¿Ñ€Ð¸Ð½Ñ†ÐµÑÑÐ° Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ð·Ð°Ð¼ÐºÐµ.",
    "ðŸ”®ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ñ‚Ñ‹ Ñ‚Ð°ÐºÐ¾Ð¹ Ð³Ñ€ÑƒÑÑ‚Ð½Ñ‹Ð¹?",
    "ðŸ”®Ð¢Ñ‹ ÑƒÐ¼Ñ€Ñ‘ÑˆÑŒ.",
    "ðŸ”®Ð˜Ð´Ð¸ Ð´Ð°Ð»ÑŒÑˆÐµ.",
    "ðŸ”®ÐžÐ¿Ð°ÑÐ½Ð¾ Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² Ð¾Ð´Ð¸Ð½Ð¾Ñ‡ÐºÑƒ.",
    "ðŸ”®ÐšÐ¾Ð³Ð´Ð° Ð¶Ð¸Ð·Ð½ÑŒ Ð´Ð°Ñ‘Ñ‚ Ñ‚ÐµÐ±Ðµ Ð»Ð¸Ð¼Ð¾Ð½Ñ‹ â€” ÑÐ´ÐµÐ»Ð°Ð¹ Ð»Ð¸Ð¼Ð¾Ð½Ð°Ð´.",
    "ðŸ”®Ð¡Ð»ÐµÐ´ÑƒÐ¹ Ð·Ð° ÐºÑ€Ð¾Ð»Ð¸ÐºÐ¾Ð¼.",
    "ðŸ”®Ð”Ð¾Ð²ÐµÑ€ÑÐ¹ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ð¼ Ð»ÑŽÐ´ÑÐ¼.",
    "ðŸ”®ÐÐµ Ð´Ð¾Ð²ÐµÑ€ÑÐ¹ Ð½Ð¸ÐºÐ¾Ð¼Ñƒ.",
    "ðŸ”®ÐÐµ Ð²Ð¸Ð½Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð¾, ÐºÑ€Ð¾Ð¼Ðµ ÑÐµÐ±Ñ.",
    "ðŸ”®ÐÐµ Ñ‚ÐµÑ€ÑÐ¹ Ð³Ð¾Ð»Ð¾Ð²Ñƒ.",
    "ðŸ”®Ð’Ñ€Ð°Ð½ÑŒÑ‘.",
    "ðŸ”®Ð£Ð·Ñ€Ð¸, Ñ‡Ñ‚Ð¾ Ð¾Ð½ ÑƒÐ·Ñ€ÐµÐ», Ð´ÐµÐ»Ð°Ð¹ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ð» Ð¾Ð½.",
    "ðŸ”®Ð›Ð¸ÑˆÑŒ Ð³Ñ€ÐµÑˆÐ½Ð¸Ðº.",
    "ðŸ”®ÐÐµ Ð¾Ñ‚Ð½Ð¾ÑÐ¸ÑÑŒ Ðº Ð»ÑŽÐ´ÑÐ¼ Ð¿Ñ€ÐµÐ´Ð²Ð·ÑÑ‚Ð¾.",
    "ðŸ”®Ð—Ð°Ð²ÐµÐ´Ð¸ Ð¿Ð¸Ñ‚Ð¾Ð¼Ñ†Ð°, Ð¾Ð½ Ð¿Ð¾Ð´Ð½Ð¸Ð¼ÐµÑ‚ Ñ‚ÐµÐ±Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ.",
    "ðŸ”®Ð’ÑÐµÐ³Ð´Ð° ÑÐ¼Ð¾Ñ‚Ñ€Ð¸ Ð½Ð° ÑÐ²ÐµÑ‚Ð»ÑƒÑŽ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñƒ.",
    "ðŸ”®Ð¢Ñ‹ Ð²Ð¸Ð´ÐµÐ» Ð²Ñ‹Ñ…Ð¾Ð´?",
    "ðŸ”®Ð¡Ð¾Ð»Ð½ÐµÑ‡Ð½Ñ‹Ðµ Ð»ÑƒÑ‡Ð¸ Ð½Ð° Ñ‚Ð²Ð¾ÐµÐ¼ Ð»Ð¸Ñ‡Ð¸ÐºÐµ.",
    "ðŸ”®ÐÑƒ, ÑÑ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ð±ÐµÑÐ¿Ð¾Ð»ÐµÐ·Ð½Ð¾.",
    "ðŸ”®ÐÐµ Ð¿Ð»Ð°Ñ‡ÑŒ Ð½Ð° Ð¿Ñ€Ð¾Ð»Ð¸Ñ‚Ñ‹Ðµ ÑÐ»Ñ‘Ð·Ñ‹.",
    "ðŸ”®Ð¡Ñ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ðµ Ñ‡Ð¸ÑÐ»Ð°: 16, 31, 64, 70, 74.",
    "ðŸ”®ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ¹ÑÑ Ð² Ñ‚ÑŽÑ€ÑŒÐ¼Ñƒ.",
    "ðŸ”®Ð’ÐµÑ€ÑŒ Ð² ÑÐµÐ±Ñ.",
    "ðŸ”®ÐŸÐµÑ€ÐµÑ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð±Ñ‹Ð»Ð¾ Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð¾.",
    "ðŸ”®Ð¢Ñ‹ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸ÑˆÑŒ Ñ‚Ð¾Ð»ÑÑ‚Ñ‹Ð¼, Ñ‚ÐµÐ±Ðµ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð·Ð°Ð½Ð¸Ð¼Ð°Ñ‚ÑŒÑÑ.",
    "ðŸ”®ÐŸÑ€Ð¸Ð½Ð¸Ð¼Ð°Ð¹ ÑÐ²Ð¾Ð¸ Ð»ÐµÐºÐ°Ñ€ÑÑ‚Ð²Ð°.",
    "ðŸ”®Ð’Ñ‹Ð±ÐµÑ€Ð¸ ÑÐ²Ð¾Ð¹ Ð¿ÑƒÑ‚ÑŒ.",
    "ðŸ”®Ð¢Ð²Ð¾Ñ Ð¿Ñ€ÐµÐ¶Ð½ÑÑ Ð¶Ð¸Ð·Ð½ÑŒ Ð»ÐµÐ¶Ð¸Ñ‚ Ð² Ñ€ÑƒÐ¸Ð½Ð°Ñ….",
    "ðŸ”®Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ ÑÐ¿Ð»ÑŽ!!!",
    "ðŸ”®Ð¢Ð²Ð¾Ð¸Ñ… Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ.",
    "ðŸ”®Ð¡Ð»ÐµÐ´ÑƒÐ¹ Ð·Ð° ÑÐ¾Ð±Ð°ÐºÐ¾Ð¹.",
    "ðŸ”®Ð¡Ð»ÐµÐ´ÑƒÐ¹ Ð·Ð° ÐºÐ¾ÑˆÐºÐ¾Ð¹.",
    "ðŸ”®Ð¡Ð»ÐµÐ´ÑƒÐ¹ Ð·Ð° Ð·ÐµÐ±Ñ€Ð¾Ð¹.",
    "ðŸ”®Ð§Ñ‚Ð¾ Ñ‚Ñ‹ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑˆÑŒÑÑ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð´ÐµÐ»Ð°Ñ‚ÑŒ?",
    "ðŸ”®Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ð±Ð¾Ð¼Ð±Ñ‹ Ñ ÑƒÐ¼Ð¾Ð¼.",
    "ðŸ”®Ð–Ð¸Ð²Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ¼ÐµÑ€ÐµÑ‚ÑŒ.",
    "ðŸ”®Ð¢Ñ‹ Ð±Ñ‹Ð» Ð½ÐµÐ¿Ñ€Ð°Ð²Ð»ÑŒÐ½Ð¾ Ñ€Ð¾Ð¶Ð´Ñ‘Ð½.",
    "ðŸ”®Ð¢ÑŒÐ¼Ð° Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ñ‚ÐµÐ±Ñ.",
    "ðŸ”®Ð¢Ñ‹ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð±ÑƒÐ´ÐµÑˆÑŒ Ð¿Ñ€Ð¾Ñ‰Ñ‘Ð½.",
    "ðŸ”®ÐŸÑ€Ð¸Ð½ÐµÑÐ¸ ÐµÐ¼Ñƒ Ñ„Ð¾Ñ‚Ð¾ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÑƒ.",
    "ðŸ”®Ð¢Ð²Ð¾Ñ Ð´ÑƒÑˆÐ° ÑÐ¾ÐºÑ€Ñ‹Ñ‚Ð° Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¾ Ð²Ð¾ Ñ‚ÑŒÐ¼Ðµ.",
    "ðŸ”®Ð¢Ñ‹ ÑƒÐ¼Ñ€Ñ‘ÑˆÑŒ Ð² Ð¾Ð´Ð¸Ð½Ð¾Ñ‡ÐµÑÑ‚Ð²Ðµ.",
    "ðŸ”®Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸ Ð½Ð° Ð»ÑƒÐ½Ñƒ.",
    "ðŸ”®ÐÐµ Ð¿Ð¾ÐºÐ¸Ð´Ð°Ð¹ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð´Ð¾Ð¼.",
    "ðŸ”®Ð’ÑÐµ ÐºÐ¾Ð³Ð´Ð°-Ð½Ð¸Ð±ÑƒÐ´ÑŒ ÑƒÐ¼Ñ€ÑƒÑ‚.",
    "ðŸ”®Ð¢Ñ‹ Ð¿Ñ€Ð¾Ð¶Ð¸Ð³Ð°ÐµÑˆÑŒ ÑÐ²Ð¾ÑŽ Ð¶Ð¸Ð·Ð½ÑŒ.",
    "ðŸ”®Ð’Ñ‹Ð¹Ð´Ð¸ Ð½Ð° ÑƒÐ»Ð¸Ñ†Ñƒ!",
    "ðŸ”®Ð¡Ð´Ð°Ð²Ð°Ð¹ÑÑ!",
    "ðŸ”®Ð¡Ð¿Ñ€Ð¾ÑÐ¸ Ð¿Ð¾Ð·Ð¶Ðµ.",
    "ðŸ”®ÐŸÑ€Ð¾ÑÐ½Ð¸ÑÑŒ.",
    "ðŸ”®Ð¢Ñ‹ Ð¿Ð¾ÐºÐ»Ð¾Ð½ÑÐµÑˆÑŒÑÑ Ð±Ð¾Ð³Ñƒ Ð¡Ð¾Ð»Ð½Ñ†Ð°.",
    "ðŸ”®Ð¡Ð¿Ð¸.",
    "ðŸ”®Ð–ÐµÐ½Ð¸Ñ‚ÐµÑÑŒ Ð¸ Ñ€Ð°Ð·Ð¼Ð½Ð¾Ð¶Ð°Ð¹Ñ‚ÐµÑÑŒ.",
    "ðŸ”®Ð­Ñ‚Ð¾ Ð²Ð¾Ð¿Ñ€Ð¾Ñ ÐºÐ¾Ð¼Ð¿ÐµÑ‚ÐµÐ½Ñ†Ð¸Ð¸.",
    "ðŸ”®Ð”ÑƒÐ¼Ð°Ð¹ ÑÐ°Ð¼."
]

# Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¶ÑƒÑ€Ð½Ð°Ð»Ð°
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s', level=logging.INFO
)
logger = logging.getLogger(__name__)

# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ð¼ÐµÐ½ÑŽ Ð¸Ð· ÐºÐ½Ð¾Ð¿Ð¾Ðº Ð¸ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° ÑÑ‚Ð¾Ð»Ð±Ñ†Ð¾Ð²
def build_menu(buttons, n_cols):
    menu = [buttons[i:i + n_cols] for i in range(0, len(buttons), n_cols)]
    return menu

# ÐžÑ‚Ð²ÐµÑ‚ Ð½Ð° ÐºÐ¾Ð¼Ð¼Ð°Ð½Ð´Ñƒ /start
def start(update, context):
    buttons = ["Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐºÑƒÐ±Ð¸Ðº", "Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð´Ð²Ð° ÐºÑƒÐ±Ð¸ÐºÐ°",
               "ÐŸÐ¾Ð´ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ", "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ"]    # ÐœÐ°ÑÑÐ¸Ð² ÐºÐ½Ð¾Ð¿Ð¾Ðº
    reply_markup = ReplyKeyboardMarkup(build_menu(
        buttons, n_cols=2), resize_keyboard=True)               # ÐœÐµÐ½ÑŽ Ñ Ð¸Ð·Ð¼ÐµÐ½ÑÐµÐ¼Ñ‹Ð¼ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð¾Ð¼
    context.bot.send_message(chat_id=update.effective_chat.id,  # ÐžÑ‚ÑÑ‹Ð»ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ñ Ð¼ÐµÐ½ÑŽ
                             text="ÐŸÑ€Ð¸Ð²ÐµÑ‚!\nÐ¯ Ð¼Ð¾Ð³Ñƒ Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ ÐºÑƒÐ±Ð¸ÐºÐ¸, Ð¿Ð¾Ð´ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ Ð¸ Ð´Ð°Ñ‚ÑŒ Ñ‚ÐµÐ±Ðµ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ\nÐ§Ñ‚Ð¾ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ?",
                             reply_markup=reply_markup)

# ÐžÑ‚Ð²ÐµÑ‚ Ð½Ð° ÐºÐ¾Ð¼Ð¼Ð°Ð½Ð´Ñƒ /info
def info(update, context):
    context.bot.send_message(chat_id=update.effective_chat.id,
                             text="Ð­Ñ‚Ð¾Ñ‚ Ð±Ð¾Ñ‚ Ð±Ñ‹Ð» ÑÐ¾Ð·Ð´Ð°Ð½ Ð½Ð° Ð²Ñ‚Ð¾Ñ€Ð¾Ð¼ ÐºÑƒÑ€ÑÐµ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ¸Ñ‚ÐµÑ‚Ð° Ð´Ð»Ñ Ð·Ð°Ñ‡Ñ‘Ñ‚Ð° Ð¿Ð¾ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ðµ " +
                                  "\"ÐžÐ±ÑŠÐµÐºÑ‚Ð½Ð¾-Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ\".\n" +
                                  "Ð£ Ð½ÐµÐ³Ð¾ Ð½ÐµÑ‚ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ñ‹, Ð´Ð° Ð¸ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¸Ð´ÐµÐ¸ Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð° Ñ Ð½Ðµ ÑÐ¼Ð¾Ð³ Ð¿Ñ€Ð¸Ð´ÑƒÐ¼Ð°Ñ‚ÑŒ, " +
                                  "Ð½Ð¾ Ñ‡Ñ‚Ð¾ ÐµÑÑ‚ÑŒ - Ñ‚Ð¾ ÐµÑÑ‚ÑŒ.\nÐ¥Ð¾Ñ€Ð¾ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ â¤ï¸")

# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð±Ñ€Ð¾ÑÐºÐ° Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐºÑƒÐ±Ð¸Ðº
def one_dice(update, context):
    reply_markup = ReplyKeyboardRemove(True)                                            # ÐœÐµÐ½ÑŽ = Ð½Ð¸Ñ‡ÐµÐ³Ð¾
    context.bot.send_message(chat_id=update.effective_chat.id, text="Ð‘Ñ€Ð¾ÑÐ°ÑŽ ÐºÑƒÐ±Ð¸Ðº!",
                             reply_markup=reply_markup)                                 # ÐžÑ‚ÑÑ‹Ð»ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð¼ÐµÐ½ÑŽ
    # Ð¡Ð»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾ >=0 <=5
    value = random.randint(0, 5)
    # ÐžÑ‚ÑÑ‹Ð»ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼
    context.bot.send_message(
        chat_id=update.effective_chat.id, text=DICE[value]+"ðŸŽ²")

    # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¼ÐµÐ½ÑŽ Ð¸ Ð¾Ñ‚ÑÑ‹Ð»ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ñ Ð¼ÐµÐ½ÑŽ
    buttons = ["Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐºÑƒÐ±Ð¸Ðº", "Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð´Ð²Ð° ÐºÑƒÐ±Ð¸ÐºÐ°",
               "ÐŸÐ¾Ð´ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ", "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ"]
    reply_markup = ReplyKeyboardMarkup(
        build_menu(buttons, n_cols=2), resize_keyboard=True)
    context.bot.send_message(
        chat_id=update.effective_chat.id, text="Ð§Ñ‚Ð¾ Ð´Ð°Ð»ÑŒÑˆÐµ?", reply_markup=reply_markup)

# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð±Ñ€Ð¾ÑÐºÐ° Ð´Ð²ÑƒÑ… ÐºÑƒÐ±Ð¸ÐºÐ¾Ð²
def two_dices(update, context):
    reply_markup = ReplyKeyboardRemove(True)
    context.bot.send_message(chat_id=update.effective_chat.id,
                             text="Ð‘Ñ€Ð¾ÑÐ°ÑŽ ÐºÑƒÐ±Ð¸ÐºÐ¸!", reply_markup=reply_markup)
    value = random.randint(0, 5)
    context.bot.send_message(
        chat_id=update.effective_chat.id, text=DICE[value]+"ðŸŽ²")
    value = random.randint(0, 5)
    context.bot.send_message(
        chat_id=update.effective_chat.id, text=DICE[value]+"ðŸŽ²")

    buttons = ["Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐºÑƒÐ±Ð¸Ðº", "Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð´Ð²Ð° ÐºÑƒÐ±Ð¸ÐºÐ°",
               "ÐŸÐ¾Ð´ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ", "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ"]
    reply_markup = ReplyKeyboardMarkup(
        build_menu(buttons, n_cols=2), resize_keyboard=True)
    context.bot.send_message(
        chat_id=update.effective_chat.id, text="Ð§Ñ‚Ð¾ Ð´Ð°Ð»ÑŒÑˆÐµ?", reply_markup=reply_markup)

# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð±Ñ€Ð¾ÑÐºÐ° Ð¼Ð¾Ð½ÐµÑ‚Ñ‹
def coin_flip(update, context):
    reply_markup = ReplyKeyboardRemove(True)
    context.bot.send_message(chat_id=update.effective_chat.id,
                             text="ÐŸÐ¾Ð´Ð±Ñ€Ð°ÑÑ‹Ð²Ð°ÑŽ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ!", reply_markup=reply_markup)
    # Ð¡Ð»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡Ð½Ð¸Ðµ Ð¸Ð· Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ñ…
    value = random.choice([True, False])

    # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ
    if(value):
        context.bot.send_animation(chat_id=update.effective_chat.id, animation=open(    # ÐžÑ‚ÑÑ‹Ð»ÐºÐ° Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸ Ñ Ð¿Ð¾Ð´Ð¿Ð¸ÑÑŒÑŽ,
            'gifs\heads.gif', 'rb'), caption="Ð’Ñ‹Ð¿Ð°Ð» Ð¾Ñ€Ñ‘Ð»!")                             # ÐµÑÐ»Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ True
    else:
        context.bot.send_animation(chat_id=update.effective_chat.id, animation=open(    # Ð•ÑÐ»Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ False
            'gifs\\tails.gif', 'rb'), caption="Ð’Ñ‹Ð¿Ð°Ð»Ð° Ñ€ÐµÑˆÐºÐ°!")

    buttons = ["Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐºÑƒÐ±Ð¸Ðº", "Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð´Ð²Ð° ÐºÑƒÐ±Ð¸ÐºÐ°",
               "ÐŸÐ¾Ð´ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ", "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ"]
    reply_markup = ReplyKeyboardMarkup(
        build_menu(buttons, n_cols=2), resize_keyboard=True)
    context.bot.send_message(
        chat_id=update.effective_chat.id, text="Ð§Ñ‚Ð¾ Ð´Ð°Ð»ÑŒÑˆÐµ?", reply_markup=reply_markup)

# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ñ
def prediction(update, context):
    reply_markup = ReplyKeyboardRemove(True)
    context.bot.send_message(chat_id=update.effective_chat.id,
                             text="Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÑŽ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ!", reply_markup=reply_markup)
    # Ð¡Ð»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ðµ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ Ð¸Ð· 62
    value = random.randint(0, 61)
    context.bot.send_message(
        chat_id=update.effective_chat.id, text=PREDICTIONS[value])

    buttons = ["Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐºÑƒÐ±Ð¸Ðº", "Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð´Ð²Ð° ÐºÑƒÐ±Ð¸ÐºÐ°",
               "ÐŸÐ¾Ð´ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ", "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ"]
    reply_markup = ReplyKeyboardMarkup(
        build_menu(buttons, n_cols=2), resize_keyboard=True)
    context.bot.send_message(
        chat_id=update.effective_chat.id, text="Ð§Ñ‚Ð¾ Ð´Ð°Ð»ÑŒÑˆÐµ?", reply_markup=reply_markup)


# ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾Ñ‚ Ð±Ð¾Ñ‚Ð° Ð¿Ð¾ Ñ‚Ð¾ÐºÐµÐ½Ñƒ
updater = Updater(config.TOKEN)
# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
dispatcher = updater.dispatcher

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° ÐºÐ¾Ð¼Ð¼Ð°Ð½Ð´Ñ‹ /start
start_handler = CommandHandler("start", start)
# Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° Ð² Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
dispatcher.add_handler(start_handler)

info_handler = CommandHandler("info", info)
dispatcher.add_handler(info_handler)

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ, ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰ÐµÐ³Ð¾ "Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐºÑƒÐ±Ð¸Ðº"
one_dice_handler = MessageHandler(
    Filters.regex("Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ ÐºÑƒÐ±Ð¸Ðº"), one_dice)
dispatcher.add_handler(one_dice_handler)

two_dices_handler = MessageHandler(
    Filters.regex("Ð‘Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð´Ð²Ð° ÐºÑƒÐ±Ð¸ÐºÐ°"), two_dices)
dispatcher.add_handler(two_dices_handler)

coin_flip_handler = MessageHandler(
    Filters.regex('ÐŸÐ¾Ð´ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¼Ð¾Ð½ÐµÑ‚ÐºÑƒ'), coin_flip)
dispatcher.add_handler(coin_flip_handler)

prediction_handler = MessageHandler(
    Filters.regex("ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ"), prediction)
dispatcher.add_handler(prediction_handler)

# Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¹
updater.start_polling()
# ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð±Ð¾Ñ‚a Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ^C
updater.idle()
